name: üöÄ Render Pinger Army

on:
  schedule:
    # –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã
    - cron: '*/3 * * * *'
  # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ GitHub
  workflow_dispatch:
  # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø—É—à–µ –≤ –≥–ª–∞–≤–Ω—É—é –≤–µ—Ç–∫—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  push:
    branches: [ main, master ]

jobs:
  ping-render:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    strategy:
      matrix:
        # –ú–µ–Ω—è–π –Ω–∞ —Å–≤–æ–∏ —Ä–µ–∞–ª—å–Ω—ã–µ URL
        url:
          - 'https://cyberguardian-cb1m.onrender.com/'
          - 'https://cyberguardian-cb1m.onrender.com/education/'
          - 'https://cyberguardian-cb1m.onrender.com/forum/'
          - 'https://cyberguardian-cb1m.onrender.com/encryption/'
          - 'https://cyberguardian-cb1m.onrender.com/ai/'
    
    steps:
      - name: üïê Check current time
        run: echo "üïê Time: $(date)"
        
      - name: üåê Ping ${{ matrix.url }}
        run: |
          echo "‚ñ∂Ô∏è Starting ping to: ${{ matrix.url }}"
          
          # –ü—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å —Ç–∞–π–º–∞—É—Ç–æ–º
          response_code=$(curl -s -o /dev/null -w "%{http_code}" --max-time 30 "${{ matrix.url }}" || echo "CURL_ERROR")
          
          if [ "$response_code" = "200" ] || [ "$response_code" = "201" ] || [ "$response_code" = "302" ]; then
            echo "‚úÖ SUCCESS: ${{ matrix.url }} - Status: $response_code"
          else
            echo "‚ùå FAILED: ${{ matrix.url }} - Status: $response_code"
            # –ù–ï –≤—ã—Ö–æ–¥–∏–º —Å –æ—à–∏–±–∫–æ–π, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ URL –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å
          fi
          
          echo "---"
        continue-on-error: true  # –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–∞–∂–µ –µ—Å–ª–∏ –æ–¥–∏–Ω URL —É–ø–∞–ª
        
      - name: üìä Log completion
        run: |
          echo "üéØ Ping cycle completed for all URLs"
          echo "‚è∞ Next run in 3 minutes"