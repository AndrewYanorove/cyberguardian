# Тесты для курса "Основы кибербезопасности"
CYBERSECURITY_QUIZZES = {
    "lesson-1-1": {
        "title": "Тест: Основы кибербезопасности",
        "description": "Проверьте свои знания основных понятий кибербезопасности",
        "questions": [
            {
                "id": 1,
                "question": "Что такое триада CIA в кибербезопасности?",
                "type": "multiple_choice",
                "options": [
                    "Центральное разведывательное управление",
                    "Конфиденциальность, Целостность, Доступность", 
                    "Кибер-атаки, Инциденты, Анализ",
                    "Кодирование, Идентификация, Аутентификация"
                ],
                "correct_answer": 1,
                "explanation": "Триада CIA - это фундаментальная модель, включающая Конфиденциальность (защита от несанкционированного доступа), Целостность (защита от изменений) и Доступность (обеспечение доступа к данным)."
            },
            {
                "id": 2,
                "question": "Какие из следующих утверждений описывают принцип конфиденциальности?",
                "type": "multiple_select",
                "options": [
                    "Данные не должны изменяться несанкционированно",
                    "Только авторизованные пользователи имеют доступ к данным",
                    "Системы должны быть доступны когда это необходимо",
                    "Информация защищена от несанкционированного просмотра"
                ],
                "correct_answers": [1, 3],
                "explanation": "Конфиденциальность обеспечивает, что доступ к информации имеют только авторизованные лица и защищает от несанкционированного просмотра."
            },
            {
                "id": 3,
                "question": "Какой принцип кибербезопасности нарушается при DDoS-атаке?",
                "type": "multiple_choice",
                "options": [
                    "Конфиденциальность",
                    "Целостность", 
                    "Доступность",
                    "Аутентификация"
                ],
                "correct_answer": 2,
                "explanation": "DDoS-атаки нарушают принцип доступности, делая сервисы недоступными для легитимных пользователей."
            }
        ]
    },
    "lesson-1-3": {
        "title": "Тест: Принципы защиты информации",
        "description": "Проверьте понимание основных принципов защиты информации",
        "questions": [
            {
                "id": 1,
                "question": "Что такое принцип наименьших привилегий (PoLP)?",
                "type": "multiple_choice",
                "options": [
                    "Предоставление административных прав всем пользователям",
                    "Предоставление минимально необходимых прав для выполнения задач",
                    "Ограничение доступа только для рядовых сотрудников",
                    "Полный доступ к системам для менеджеров"
                ],
                "correct_answer": 1,
                "explanation": "PoLP означает, что пользователи получают только те права, которые необходимы для их работы, что снижает риски при компрометации аккаунта."
            },
            {
                "id": 2, 
                "question": "Какие преимущества дает многоуровневая защита (Defense in Depth)?",
                "type": "multiple_select",
                "options": [
                    "Снижение единой точки отказа",
                    "Повышенная стоимость реализации",
                    "Время для обнаружения и реагирования на атаки", 
                    "Упрощенное управление безопасностью"
                ],
                "correct_answers": [0, 2],
                "explanation": "Многоуровневая защита снижает риски единой точки отказа и дает время на реагирование, но может увеличивать стоимость и сложность управления."
            }
        ]
    },
    "lesson-2-1": {
        "title": "Тест: Симметричное шифрование",
        "description": "Проверьте знания о симметричных алгоритмах шифрования",
        "questions": [
            {
                "id": 1,
                "question": "Какой алгоритм является современным стандартом симметричного шифрования?",
                "type": "multiple_choice",
                "options": [
                    "RSA",
                    "AES",
                    "DES", 
                    "SHA-256"
                ],
                "correct_answer": 1,
                "explanation": "AES (Advanced Encryption Standard) - современный стандарт симметричного шифрования, принятый в 2001 году."
            }
        ]
    }
}

# Практические задания
CYBERSECURITY_PRACTICE = {
    "lesson-1-2": {
        "title": "Практика: Анализ фишинговых писем",
        "description": "Научитесь идентифицировать фишинговые атаки",
        "tasks": [
            {
                "id": 1,
                "title": "Идентификация признаков фишинга",
                "description": "Проанализируйте предоставленные примеры писем и определите признаки фишинговых атак.",
                "instructions": """
                <h5>Задание:</h5>
                <p>Вам будут показаны 3 примера электронных писем. Для каждого письма определите:</p>
                <ul>
                    <li>Не менее 3 признаков фишинга</li>
                    <li>Уровень опасности (низкий, средний, высокий)</li>
                    <li>Рекомендуемые действия</li>
                </ul>

                <h5>Пример 1:</h5>
                <div class="practice-example bg-dark p-3 rounded border">
                    <p><strong>От:</strong> amazon-security@amaz0n-support.com</p>
                    <p><strong>Тема:</strong> Срочно: Подозрительная активность в вашем аккаунте!</p>
                    <p>Уважаемый клиент Amazon,</p>
                    <p>Мы обнаружили необычную активность в вашем аккаунте. Для защиты ваших данных немедленно перейдите по ссылке и подтвердите вашу личность:</p>
                    <p><a href="#">http://amazon-verify-security.com/login</a></p>
                    <p>Если вы не подтвердите данные в течение 12 часов, ваш аккаунт будет заблокирован.</p>
                    <p>С уважением,<br>Служба безопасности Amazon</p>
                </div>

                <div class="mt-3">
                    <button class="btn btn-primary" onclick="showSolution(1)">Показать решение</button>
                    <div id="solution-1" class="solution mt-2" style="display: none;">
                        <div class="alert alert-success">
                            <h6>Решение для примера 1:</h6>
                            <p><strong>Признаки фишинга:</strong></p>
                            <ol>
                                <li>Подозрительный домен отправителя (amaz0n-support.com вместо amazon.com)</li>
                                <li>Создание искусственной срочности ("12 часов", "Срочно")</li>
                                <li>Подозрительная ссылка (amazon-verify-security.com вместо официального домена)</li>
                                <li>Обобщенное обращение ("Уважаемый клиент")</li>
                            </ol>
                            <p><strong>Уровень опасности:</strong> Высокий</p>
                            <p><strong>Рекомендуемые действия:</strong> Не переходить по ссылке, удалить письмо, проверить аккаунт через официальное приложение/сайт</p>
                        </div>
                    </div>
                </div>

                <script>
                function showSolution(num) {
                    document.getElementById('solution-' + num).style.display = 'block';
                }
                </script>
                """,
                "solution": """
                <h6>Ключевые признаки фишинга:</h6>
                <ul>
                    <li>Подозрительные домены отправителя</li>
                    <li>Создание искусственной срочности</li>
                    <li>Требование немедленных действий</li>
                    <li>Подозрительные ссылки и вложения</li>
                    <li>Ошибки в тексте письма</li>
                    <li>Необычные запросы информации</li>
                </ul>
                """
            }
        ]
    },
    "lesson-2-1": {
        "title": "Практика: Создание надежных паролей",
        "description": "Научитесь создавать и оценивать надежность паролей",
        "tasks": [
            {
                "id": 1,
                "title": "Анализ надежности паролей",
                "description": "Проанализируйте предоставленные пароли и оцените их надежность.",
                "instructions": """
                <h5>Задание:</h5>
                <p>Оцените надежность следующих паролей по шкале от 1 до 5:</p>
                <ul>
                    <li><code>password123</code></li>
                    <li><code>P@ssw0rd!</code></li>
                    <li><code>К0т-Люб1т-П0рыбачить#2024!</code></li>
                    <li><code>qwerty</code></li>
                </ul>

                <h5>Критерии оценки:</h5>
                <ul>
                    <li>Длина пароля</li>
                    <li>Использование различных типов символов</li>
                    <li>Отсутствие словарных слов</li>
                    <li>Уникальность</li>
                </ul>

                <div class="mt-3">
                    <button class="btn btn-primary" onclick="showPasswordSolution()">Показать решение</button>
                    <div id="password-solution" class="solution mt-2" style="display: none;">
                        <div class="alert alert-success">
                            <h6>Оценка надежности паролей:</h6>
                            <table class="table table-dark">
                                <thead>
                                    <tr>
                                        <th>Пароль</th>
                                        <th>Оценка</th>
                                        <th>Обоснование</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>password123</code></td>
                                        <td>1/5</td>
                                        <td>Словарное слово + простые цифры</td>
                                    </tr>
                                    <tr>
                                        <td><code>P@ssw0rd!</code></td>
                                        <td>3/5</td>
                                        <td>Замена символов, но короткий и предсказуемый</td>
                                    </tr>
                                    <tr>
                                        <td><code>К0т-Люб1т-П0рыбачить#2024!</code></td>
                                        <td>5/5</td>
                                        <td>Длинный, различные типы символов, уникальный</td>
                                    </tr>
                                    <tr>
                                        <td><code>qwerty</code></td>
                                        <td>1/5</td>
                                        <td>Очень короткий, последовательность клавиш</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <script>
                function showPasswordSolution() {
                    document.getElementById('password-solution').style.display = 'block';
                }
                </script>
                """,
                "solution": """
                <h6>Рекомендации по созданию надежных паролей:</h6>
                <ul>
                    <li>Используйте не менее 12 символов</li>
                    <li>Комбинируйте буквы (заглавные и строчные), цифры и специальные символы</li>
                    <li>Избегайте личной информации и словарных слов</li>
                    <li>Используйте фразы-пароли</li>
                    <li>Не используйте один пароль для нескольких аккаунтов</li>
                </ul>
                """
            }
        ]
    }
}

def get_quiz(lesson_id):
    """Получить тест для урока"""
    return CYBERSECURITY_QUIZZES.get(lesson_id)

def get_practice(lesson_id):
    """Получить практическое задание для урока"""
    return CYBERSECURITY_PRACTICE.get(lesson_id)

def get_quiz_question(lesson_id, question_id):
    """Получить конкретный вопрос теста"""
    quiz = get_quiz(lesson_id)
    if not quiz:
        return None
    
    for question in quiz['questions']:
        if question['id'] == question_id:
            return question
    return None