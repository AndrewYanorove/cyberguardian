<div class="chat-window">
    <div class="chat-header">
        <div class="chat-title" id="currentChatTitle">
            <i class="bi bi-robot"></i> Новый чат
        </div>
        <div class="chat-actions">
            <button class="btn btn-sm btn-outline-cyber" onclick="clearCurrentChat()">
                <i class="bi bi-trash"></i>
            </button>
        </div>
    </div>
    
    <div class="chat-messages" id="chatMessages">
        <!-- Сообщения будут здесь -->
    </div>

    <div class="typing-indicator" id="typingIndicator">
        <div class="typing-dots">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <div class="chat-input-container">
        <form id="chatForm">
            <div class="input-group">
                <input type="text" class="form-control cyber-input" 
                       id="messageInput" 
                       placeholder="Введите ваш вопрос..."
                       autocomplete="off"
                       maxlength="1000">
                <button type="submit" class="btn btn-cyber" id="sendButton">
                    <i class="bi bi-send"></i>
                </button>
            </div>
        </form>
    </div>
</div>

<style>
.chat-window {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.chat-header {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--cyber-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(20, 20, 20, 0.9);
}

.chat-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--cyber-primary);
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* Остальные стили как в предыдущей версии */
.message {
    max-width: 85%;
    padding: 1rem 1.5rem;
    border-radius: 15px;
    position: relative;
    animation: messageSlide 0.3s ease;
}

.message.user {
    align-self: flex-end;
    background: rgba(0, 136, 255, 0.2);
    border: 1px solid var(--cyber-secondary);
}

.message.assistant {
    align-self: flex-start;
    background: rgba(0, 255, 136, 0.1);
    border: 1px solid var(--cyber-primary);
}

.chat-input-container {
    padding: 1.5rem;
    border-top: 1px solid var(--cyber-border);
    background: rgba(10, 10, 10, 0.95);
}
</style>