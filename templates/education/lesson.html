<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Урок - Основы кибербезопасности - CyberGuardian</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root {
            --cyber-darker: #0a0a0f;
            --cyber-dark: #111122;
            --cyber-border: #1a1a2e;
            --cyber-primary: #0375c2;
            --cyber-secondary: #0088ff;
            --cyber-subtext: #8899aa;
            --cyber-text: #e0e0ff;
        }

        body {
            background-color: var(--cyber-darker);
            color: var(--cyber-text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .cyber-title {
            color: var(--cyber-primary);
            text-shadow: 0 0 10px rgba(11, 232, 248, 0.781);
            font-weight: 700;
        }

        .cyber-text {
            color: var(--cyber-text);
        }

        .cyber-subtext {
            color: var(--cyber-subtext);
        }

        .cyber-border {
            border-color: var(--cyber-border) !important;
        }

        .lesson-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .video-container {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid var(--cyber-border);
            border-radius: 15px;
            padding: 0;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .video-player {
            width: 100%;
            height: 500px;
            background: #000;
        }

        .lesson-content {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid var(--cyber-border);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .lesson-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--cyber-border);
        }

        .btn-cyber {
            background: linear-gradient(135deg, var(--cyber-primary), #00cc88);
            border: none;
            color: var(--cyber-darker);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .btn-cyber:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4);
        }

        .btn-cyber-outline {
            background: transparent;
            border: 2px solid var(--cyber-primary);
            color: var(--cyber-primary);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .btn-cyber-outline:hover {
            background: var(--cyber-primary);
            color: var(--cyber-darker);
        }

        .completion-badge {
            background: linear-gradient(135deg, var(--cyber-primary), #00cc88);
            color: var(--cyber-darker);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .resources-list {
            list-style: none;
            padding: 0;
        }

        .resources-list li {
            padding: 0.8rem 0;
            border-bottom: 1px solid var(--cyber-border);
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .resources-list li:hover {
            background: rgba(0, 255, 136, 0.05);
            padding-left: 0.5rem;
        }

        .resources-list li:last-child {
            border-bottom: none;
        }
    </style>
</head>

<body>
    <div class="lesson-container">
        <!-- Заголовок урока -->
        <div class="row mb-4">
            <div class="col-12">
                <nav aria-label="breadcrumb" class="mb-3">
                    <ol class="breadcrumb cyber-border">
                        <li class="breadcrumb-item">
                            <a href="/education" class="text-decoration-none cyber-text">
                                <i class="bi bi-book me-1"></i>Курсы
                            </a>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="/education/course/cyber-basics" class="text-decoration-none cyber-text">
                                Основы кибербезопасности
                            </a>
                        </li>
                        <li class="breadcrumb-item active cyber-text" id="lesson-title-breadcrumb">
                            Название урока
                        </li>
                    </ol>
                </nav>

                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h1 class="cyber-title mb-2" id="lesson-title">Название урока</h1>
                        <p class="cyber-subtext lead" id="lesson-description">Описание урока</p>
                    </div>
                    <div class="text-end">
                        <span class="completion-badge" id="completion-status">
                            <i class="bi bi-circle me-1"></i>В процессе
                        </span>
                        <div class="mt-2">
                            <small class="cyber-subtext" id="lesson-duration">
                                <i class="bi bi-clock me-1"></i>0 минут
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Основной контент -->
            <div class="col-lg-8">
                <!-- Видеоплеер -->
                <div class="video-container">
                    <div class="video-player" id="video-player">
                        <div class="d-flex justify-content-center align-items-center h-100">
                            <div class="text-center">
                                <i class="bi bi-play-circle-fill"
                                    style="font-size: 4rem; color: var(--cyber-primary);"></i>
                                <p class="cyber-subtext mt-3">Видео будет загружено здесь</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Контент урока -->
                <div class="lesson-content">
                    <h4 class="cyber-text mb-3">
                        <i class="bi bi-journal-text me-2"></i>Содержание урока
                    </h4>
                    <div id="lesson-content-text">
                        <p class="cyber-text">Контент урока загружается...</p>
                    </div>

                    <!-- Практическое задание -->
                    <div class="mt-4" id="practice-section" style="display: none;">
                        <h5 class="cyber-text mb-3">
                            <i class="bi bi-code-slash me-2"></i>Практическое задание
                        </h5>
                        <div class="alert alert-info cyber-border">
                            <p class="cyber-text mb-0" id="practice-task">Практическое задание будет отображено здесь
                            </p>
                        </div>
                        <button class="btn btn-cyber mt-3" id="complete-practice-btn">
                            <i class="bi bi-check-circle me-2"></i>Завершить задание
                        </button>
                    </div>

                    <!-- Тест -->
                    <div class="mt-4" id="quiz-section" style="display: none;">
                        <h5 class="cyber-text mb-3">
                            <i class="bi bi-patch-question me-2"></i>Проверка знаний
                        </h5>
                        <div class="alert alert-warning cyber-border">
                            <p class="cyber-text mb-0" id="quiz-info">Тест будет доступен после просмотра видео</p>
                        </div>
                        <button class="btn btn-cyber mt-3" id="start-quiz-btn" disabled>
                            <i class="bi bi-play-circle me-2"></i>Начать тест
                        </button>
                    </div>
                </div>

                <!-- Навигация -->
                <div class="lesson-navigation">
                    <button class="btn btn-cyber-outline" id="prev-lesson-btn">
                        <i class="bi bi-arrow-left me-2"></i>Предыдущий урок
                    </button>

                    <button class="btn btn-cyber" id="complete-lesson-btn">
                        <i class="bi bi-check-circle me-2"></i>Завершить урок
                    </button>

                    <button class="btn btn-cyber-outline" id="next-lesson-btn">
                        Следующий урок<i class="bi bi-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>

            <!-- Боковая панель -->
            <div class="col-lg-4">
                <!-- Прогресс -->
                <div class="lesson-content">
                    <h5 class="cyber-text mb-3">
                        <i class="bi bi-graph-up me-2"></i>Прогресс урока
                    </h5>
                    <div class="progress cyber-border mb-3" style="height: 8px;">
                        <div class="progress-bar" role="progressbar"
                            style="width: 0%; background: var(--cyber-primary);" id="lesson-progress-bar"></div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <small class="cyber-subtext">Прогресс</small>
                        <small class="cyber-text" id="progress-text">0%</small>
                    </div>
                </div>

                <!-- Ресурсы -->
                <div class="lesson-content">
                    <h5 class="cyber-text mb-3">
                        <i class="bi bi-download me-2"></i>Ресурсы урока
                    </h5>
                    <ul class="resources-list" id="lesson-resources">
                        <li>
                            <i class="bi bi-file-pdf me-2" style="color: var(--cyber-primary);"></i>
                            <a href="#" class="cyber-text text-decoration-none">Презентация урока</a>
                        </li>
                        <li>
                            <i class="bi bi-file-text me-2" style="color: var(--cyber-primary);"></i>
                            <a href="#" class="cyber-text text-decoration-none">Конспект</a>
                        </li>
                    </ul>
                </div>

                <!-- Добавить видео -->
                <div class="lesson-content">
                    <h5 class="cyber-text mb-3">
                        <i class="bi bi-cloud-upload me-2"></i>Добавить видео
                    </h5>
                    <div class="mb-3">
                        <input type="file" class="form-control cyber-border" id="video-upload" accept="video/*">
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control cyber-border" id="video-url"
                            placeholder="Или вставьте ссылку на видео">
                    </div>
                    <button class="btn btn-cyber w-100" id="add-video-btn">
                        <i class="bi bi-plus-circle me-2"></i>Добавить видео
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Данные уроков
        const lessonsData = {
            1: {
                title: "Что такое кибербезопасность?",
                description: "Основные понятия и важность кибербезопасности в современном мире",
                duration: "15 минут",
                content: `
                    <h5>Основные понятия кибербезопасности</h5>
                    <p>Кибербезопасность — это практика защиты систем, сетей и программ от цифровых атак.</p>
                    
                    <h6>Ключевые аспекты:</h6>
                    <ul>
                        <li>Конфиденциальность данных</li>
                        <li>Целостность информации</li>
                        <li>Доступность систем</li>
                    </ul>
                    
                    <h6>Важность кибербезопасности:</h6>
                    <p>В современном цифровом мире защита информации стала критически важной для:</p>
                    <ul>
                        <li>Бизнеса и корпораций</li>
                        <li>Государственных учреждений</li>
                        <li>Частных лиц</li>
                    </ul>
                `,
                videoUrl: "",
                hasPractice: false,
                hasQuiz: true
            },
            2: {
                title: "Основные угрозы",
                description: "Вирусы, трояны, фишинг и другие киберугрозы",
                duration: "20 минут",
                content: `
                    <h5>Типы киберугроз</h5>
                    <p>Существует множество видов киберугроз, которые могут навредить вашим данным и устройствам.</p>
                    
                    <h6>Распространенные угрозы:</h6>
                    <ul>
                        <li><strong>Вирусы</strong> - вредоносные программы, которые распространяются и заражают файлы</li>
                        <li><strong>Трояны</strong> - программы, маскирующиеся под легитимное ПО</li>
                        <li><strong>Фишинг</strong> - мошеннические попытки получить конфиденциальную информацию</li>
                        <li><strong>Ransomware</strong> - программы-вымогатели, блокирующие доступ к данным</li>
                    </ul>
                `,
                videoUrl: "",
                hasPractice: true,
                hasQuiz: true,
                practiceTask: "Проанализируйте предоставленное фишинговое письмо и определите признаки мошенничества."
            },
            3: {
                title: "Создание надежных паролей",
                description: "Правила создания паролей, которые сложно взломать",
                duration: "25 минут",
                content: `
                    <h5>Искусство создания надежных паролей</h5>
                    <p>Надежный пароль — ваша первая линия защиты в цифровом мире.</p>
                    
                    <h6>Правила создания паролей:</h6>
                    <ul>
                        <li>Используйте не менее 12 символов</li>
                        <li>Комбинируйте буквы (заглавные и строчные), цифры и специальные символы</li>
                        <li>Избегайте личной информации (имена, даты рождения)</li>
                        <li>Не используйте один пароль для нескольких аккаунтов</li>
                    </ul>
                    
                    <h6>Примеры надежных паролей:</h6>
                    <p>Вместо простого пароля используйте фразы: <code>К0т-Люб1т-П0рыбачить#2024!</code></p>
                `,
                videoUrl: "",
                hasPractice: true,
                hasQuiz: false,
                practiceTask: "Создайте 3 надежных пароля по всем правилам и проверьте их надежность."
            }
        };

        // Текущий урок
        let currentLessonId = 1;
        let isVideoAdded = false;
        let isVideoWatched = false;

        // Функция загрузки урока
        function loadLesson(lessonId) {
            const lesson = lessonsData[lessonId];
            if (!lesson) return;

            // Обновляем заголовки
            document.getElementById('lesson-title').textContent = lesson.title;
            document.getElementById('lesson-title-breadcrumb').textContent = lesson.title;
            document.getElementById('lesson-description').textContent = lesson.description;
            document.getElementById('lesson-duration').innerHTML = `<i class="bi bi-clock me-1"></i>${lesson.duration}`;

            // Обновляем контент
            document.getElementById('lesson-content-text').innerHTML = lesson.content;

            // Показываем/скрываем разделы
            const practiceSection = document.getElementById('practice-section');
            const quizSection = document.getElementById('quiz-section');

            practiceSection.style.display = lesson.hasPractice ? 'block' : 'none';
            quizSection.style.display = lesson.hasQuiz ? 'block' : 'none';

            if (lesson.hasPractice) {
                document.getElementById('practice-task').textContent = lesson.practiceTask;
            }

            // Обновляем статус завершения
            updateCompletionStatus();

            // Обновляем кнопки навигации
            updateNavigationButtons(lessonId);
        }

        // Функция обновления статуса завершения
        function updateCompletionStatus() {
            const completionBadge = document.getElementById('completion-status');
            const progressBar = document.getElementById('lesson-progress-bar');
            const progressText = document.getElementById('progress-text');

            if (isVideoWatched) {
                completionBadge.innerHTML = '<i class="bi bi-check-circle me-1"></i>Завершено';
                completionBadge.style.background = 'linear-gradient(135deg, var(--cyber-primary), #00cc88)';
                progressBar.style.width = '100%';
                progressText.textContent = '100%';
            } else {
                completionBadge.innerHTML = '<i class="bi bi-circle me-1"></i>В процессе';
                completionBadge.style.background = 'var(--cyber-border)';
                progressBar.style.width = '0%';
                progressText.textContent = '0%';
            }
        }

        // Функция обновления кнопок навигации
        function updateNavigationButtons(lessonId) {
            const prevBtn = document.getElementById('prev-lesson-btn');
            const nextBtn = document.getElementById('next-lesson-btn');

            prevBtn.disabled = lessonId === 1;
            nextBtn.disabled = lessonId === Object.keys(lessonsData).length;
        }

        // Функция добавления видео
        function addVideo(videoSource) {
            const videoPlayer = document.getElementById('video-player');
            videoPlayer.innerHTML = `
                <video controls class="w-100 h-100">
                    <source src="${videoSource}" type="video/mp4">
                    Ваш браузер не поддерживает видео тег.
                </video>
            `;

            const video = videoPlayer.querySelector('video');
            video.addEventListener('ended', function () {
                isVideoWatched = true;
                updateCompletionStatus();
                document.getElementById('start-quiz-btn').disabled = false;
            });

            isVideoAdded = true;
        }

        // Обработчики событий
        document.getElementById('add-video-btn').addEventListener('click', function () {
            const videoUpload = document.getElementById('video-upload');
            const videoUrl = document.getElementById('video-url').value;

            if (videoUpload.files.length > 0) {
                const file = videoUpload.files[0];
                const videoSource = URL.createObjectURL(file);
                addVideo(videoSource);
            } else if (videoUrl) {
                addVideo(videoUrl);
            } else {
                alert('Пожалуйста, выберите файл или введите ссылку на видео');
            }
        });

        document.getElementById('complete-lesson-btn').addEventListener('click', function () {
            if (!isVideoWatched && isVideoAdded) {
                alert('Пожалуйста, посмотрите видео до конца перед завершением урока');
                return;
            }

            if (confirm('Вы уверены, что хотите отметить урок как завершенный?')) {
                isVideoWatched = true;
                updateCompletionStatus();
                alert('Урок завершен!');
            }
        });

        document.getElementById('complete-practice-btn').addEventListener('click', function () {
            alert('Практическое задание завершено!');
        });

        document.getElementById('start-quiz-btn').addEventListener('click', function () {
            alert('Тест начат!');
        });

        document.getElementById('prev-lesson-btn').addEventListener('click', function () {
            if (currentLessonId > 1) {
                currentLessonId--;
                loadLesson(currentLessonId);
                resetLessonState();
            }
        });

        document.getElementById('next-lesson-btn').addEventListener('click', function () {
            if (currentLessonId < Object.keys(lessonsData).length) {
                currentLessonId++;
                loadLesson(currentLessonId);
                resetLessonState();
            }
        });

        // Функция сброса состояния урока
        function resetLessonState() {
            isVideoAdded = false;
            isVideoWatched = false;
            document.getElementById('video-upload').value = '';
            document.getElementById('video-url').value = '';
            document.getElementById('start-quiz-btn').disabled = true;
            updateCompletionStatus();
        }

        // Инициализация
        document.addEventListener('DOMContentLoaded', function () {
            // Получаем ID урока из URL
            const urlParams = new URLSearchParams(window.location.search);
            const lessonId = urlParams.get('id') || 1;
            currentLessonId = parseInt(lessonId);

            loadLesson(currentLessonId);
        });
    </script>
</body>

</html>